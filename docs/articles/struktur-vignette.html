<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="struktuR">
<title>Estimation using struktuR • struktuR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Estimation using struktuR">
<meta property="og:description" content="struktuR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">struktuR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.5</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/struktur-vignette.html">Estimation using struktuR</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="struktur-vignette_files/kePrint-0.0.1/kePrint.js"></script><link href="struktur-vignette_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Estimation using struktuR</h1>
                        <h4 data-toc-skip class="author">Susie
Jentoft</h4>
            
            <h4 data-toc-skip class="date">27.05.2022</h4>
      
      
      <div class="d-none name"><code>struktur-vignette.Rmd</code></div>
    </div>

    
    
<div class="section level3">
<h3 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h3>
<p>The <code>struktuR</code> package is used to estimate totals and
their uncertainty from sample survey data, with particular focus on
business surveys. It contains functions which replicates and builds on
the estimation and functionality used in Statistic Norway’s internally
developed SAS-application Struktur (<a href="https://www.ssb.no/a/publikasjoner/pdf/notat_200730/notat_200730.pdf" class="external-link">Using
SAS-Struktur</a>, Norsk). Documentation on this earlier application will
be referenced here to aid those wishing to move their statistical
production (or parts of it) to R.</p>
<p>The main purpose of the functions is to:</p>
<ul>
<li>Estimate totals for statistic variables for the country and within
strata and groups.</li>
<li>Provide estimations for variance to indicate the quality of the
estimated totals.</li>
<li>Identify outlier/extreme observations that may be having a overly
high influence on the statistics.</li>
</ul>
<p>The estimation method is a model-based estimate using a
<strong>homogenous</strong>, <strong>rate</strong> or
<strong>regression</strong> model. These are described further in more
details later in this document.</p>
</div>
<div class="section level3">
<h3 id="package-installation">Package installation<a class="anchor" aria-label="anchor" href="#package-installation"></a>
</h3>
<p>For internal Statistic Norway users, the package is already installed
on many of the production servers and this step may be skipped. For
other users the package can be installed from github using the
<code>devtools</code> function <code>install_github</code>. This step
only needs to be run one time.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"statisticsnorway/struktuR"</span><span class="op">)</span></span></code></pre></div>
<p>To access and use the functions in the package we need to run
<code>library</code> each time we start a new R session.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">struktuR</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="data-requirements">Data requirements<a class="anchor" aria-label="anchor" href="#data-requirements"></a>
</h3>
<p>The purpose of the functions used for estimation is to take
information from a sample of units (for example a sample of companies)
and make inferences on the remaining units in the population to find an
estimation for the total. For this we need data on both the
<em>sample</em> and <em>population</em>. This can be two separate data
sets or one full/population data set with information on the statistics
variable for those units in the sample. When there are two data sets,
the following variables should be included:</p>
<p><strong>Population data set</strong>:</p>
<ul>
<li>ID variable which is consistent in both the population and sample
data sets (<code>id</code>).</li>
<li>An explanatory variable when using regression and rate models
(<code>x</code>). This is a variable which the statistic variable is
correlated with.</li>
<li>A strata variable which divides the population into groups which are
similar to each other. This is the smallest grouping variable and which
seperate models will be run on.</li>
<li>Domain variables (or publication groups) for producing statistical
totals for. These should be able to be created by joining strata groups
together.</li>
</ul>
<p><strong>Sample data set</strong>:</p>
<ul>
<li>ID variable (<code>id</code>)</li>
<li>The explanatory variable when using regression and rate models, but
can be missing (<code>x</code>)</li>
<li>The statistic variable(s) we are interested in estimating
(<code>y</code>)</li>
</ul>
<p><strong>Example data</strong> There are two synthetic data sets in
the package for examples: pop_data, sample_data. <code>pop_data</code>
represents a population data set with 10000 rows, each one representing
a company. The variable <code>employees</code> is the number of
employees in the company and provides an explanatory variable used in
many of Statistic Norway’s current estimation models. Variables
<code>emplyees_f</code> and <code>employees_m</code> give the breakdown
for number of male and female employees. <code>Turnover</code> provides
an alternative explanatory variable. Variables <code>size</code> and
<code>industry</code> providing options for stratification.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">pop_data</span><span class="op">)</span></span></code></pre></div>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:right;">
id
</th>
<th style="text-align:right;">
employees
</th>
<th style="text-align:right;">
employees_f
</th>
<th style="text-align:right;">
employees_m
</th>
<th style="text-align:right;">
turnover
</th>
<th style="text-align:left;">
size
</th>
<th style="text-align:left;">
industry
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
15396.54
</td>
<td style="text-align:left;">
small
</td>
<td style="text-align:left;">
B
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
75
</td>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
78814.71
</td>
<td style="text-align:left;">
mid
</td>
<td style="text-align:left;">
B
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
55
</td>
<td style="text-align:right;">
42
</td>
<td style="text-align:right;">
13
</td>
<td style="text-align:right;">
97128.26
</td>
<td style="text-align:left;">
mid
</td>
<td style="text-align:left;">
B
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
56
</td>
<td style="text-align:right;">
32
</td>
<td style="text-align:right;">
24
</td>
<td style="text-align:right;">
60414.60
</td>
<td style="text-align:left;">
mid
</td>
<td style="text-align:left;">
B
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
110
</td>
<td style="text-align:right;">
13
</td>
<td style="text-align:right;">
97
</td>
<td style="text-align:right;">
237306.65
</td>
<td style="text-align:left;">
big
</td>
<td style="text-align:left;">
B
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
172
</td>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
122
</td>
<td style="text-align:right;">
473721.22
</td>
<td style="text-align:left;">
big
</td>
<td style="text-align:left;">
B
</td>
</tr>
</tbody>
</table>
<p>The data set <code>sample_data</code> contains 1000 rows representing
a sample of companies. In addition to the variables listed previously it
contains a <code>job_vacancies</code> representing the number of job
positions advertised for the year as an example statistic variable.
Variables <code>sick_days</code>, <code>sick_days_f</code> and
<code>sick_days_m</code> give addition statistic variables for the
number of days lost to sick leave, broken down into male and female.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sample_data</span><span class="op">)</span></span></code></pre></div>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:250px; overflow-x: scroll; width:100%; ">
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
id
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
employees
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
employees_f
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
employees_m
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
turnover
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
size
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
industry
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
job_vacancies
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
sick_days
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
sick_days_f
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
sick_days_m
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
132
</td>
<td style="text-align:right;">
13
</td>
<td style="text-align:right;">
97
</td>
<td style="text-align:right;">
237306.653
</td>
<td style="text-align:left;">
big
</td>
<td style="text-align:left;">
B
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
515
</td>
<td style="text-align:right;">
278
</td>
<td style="text-align:right;">
237
</td>
</tr>
<tr>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
28
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
63848.919
</td>
<td style="text-align:left;">
mid
</td>
<td style="text-align:left;">
B
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
134
</td>
<td style="text-align:right;">
127
</td>
<td style="text-align:right;">
7
</td>
</tr>
<tr>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
11462.578
</td>
<td style="text-align:left;">
small
</td>
<td style="text-align:left;">
B
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
21
</td>
<td style="text-align:right;">
17
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
155
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
170
</td>
<td style="text-align:right;">
7934.057
</td>
<td style="text-align:left;">
big
</td>
<td style="text-align:left;">
B
</td>
<td style="text-align:right;">
16
</td>
<td style="text-align:right;">
632
</td>
<td style="text-align:right;">
540
</td>
<td style="text-align:right;">
92
</td>
</tr>
<tr>
<td style="text-align:right;">
25
</td>
<td style="text-align:right;">
167
</td>
<td style="text-align:right;">
81
</td>
<td style="text-align:right;">
61
</td>
<td style="text-align:right;">
408964.032
</td>
<td style="text-align:left;">
big
</td>
<td style="text-align:left;">
B
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
337
</td>
<td style="text-align:right;">
200
</td>
<td style="text-align:right;">
137
</td>
</tr>
<tr>
<td style="text-align:right;">
55
</td>
<td style="text-align:right;">
124
</td>
<td style="text-align:right;">
31
</td>
<td style="text-align:right;">
45
</td>
<td style="text-align:right;">
118718.363
</td>
<td style="text-align:left;">
mid
</td>
<td style="text-align:left;">
B
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
525
</td>
<td style="text-align:right;">
151
</td>
<td style="text-align:right;">
374
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level3">
<h3 id="model-choice">Model choice<a class="anchor" aria-label="anchor" href="#model-choice"></a>
</h3>
<p>The main function for estimation in the R package is called
<code>struktur_model</code> and uses the parameter <code>method</code>
to define the model of choice. The default setting is set to run a
<strong>rate</strong> model but can also be a
<strong>homogenous</strong> or <strong>regression</strong> model. This
is similar to the choice given in the SAS-Struktur application</p>
<p><img src="model.PNG"></p>
<p>A <strong>homogenous</strong> model is useful when there are no
available additional variables that are correlated with the statistics
variable. A <strong>rate</strong> model is used when there is one
variable available for all units in the population which has a good
correlation with the statistics variable. A <strong>regression</strong>
model can also be used when there is a variable available in the
population but can also be adapted for cases with multiple explanatory
variables. It also has an assumption that the residuals in the model are
not related to the explanatory variables.</p>
<p>The <code>struktuR</code> package currently only supports the use of
a <strong>rate</strong> model for estimation. Contact Statistic’s
Norway’s Methods department if you wish to test either of the other
models.</p>
<div class="section level4">
<h4 id="rate-model">Rate model<a class="anchor" aria-label="anchor" href="#rate-model"></a>
</h4>
<p>A rate model can be described with the general formula: <span class="math display">\[
y_{hi} = \beta_{h}x_{hi} + \epsilon_{hi}
\]</span> where <span class="math inline">\(i = 1, 2, ..., N_h\)</span>
and is the units in the sample in the stratum, <span class="math inline">\(h\)</span>, <span class="math inline">\(y\)</span>
is the statistics variable available in the sample and <span class="math inline">\(x\)</span> is the explanatory variable.</p>
<p>For a rate model, the distribution of the error term, or residuals,
is assumed to correlate with the explanatory variable, <span class="math inline">\(x\)</span>. Thereby <span class="math display">\[
Var(\epsilon_{hi})= x_{hi}\sigma_h^2
\]</span> An easy way to see if a rate model might be a good choice, is
to start with plotting the statistics variable against the explanatory
variable. If there appears to be a linear pattern, but the points vary
more from the linear correlation when they themselves are larger it will
result in a funnel type shape. This can be seen in the example:<br><img src="struktur-vignette_files/figure-html/unnamed-chunk-7-1.png" width="100%"></p>
<p>Another difference is that rate models do not have an intercept term
whereas regression models often do. This means that when the explanatory
variable (<code>x</code>) is 0, then it should make sense for the
statistic variable (<code>y</code>) to also be 0.</p>
</div>
</div>
<div class="section level3">
<h3 id="estimation">Estimation<a class="anchor" aria-label="anchor" href="#estimation"></a>
</h3>
<p>The main function, <code>struktur_model</code> is used to perform the
modeling and estimation. This function will fit the chosen model within
strata groups then predict it for the population as a whole. The
population and sample datasets must be provided, along with explanatory
variable, statistic variable(s), id and strata variables. Here we use
industry groups in the example data as the strata variable.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/struktur_model.html">struktur_model</a></span><span class="op">(</span><span class="va">pop_data</span>, <span class="va">sample_data</span>, </span>
<span>                          x <span class="op">=</span> <span class="st">"employees"</span>, </span>
<span>                          y <span class="op">=</span> <span class="st">"job_vacancies"</span>, </span>
<span>                          id <span class="op">=</span> <span class="st">"id"</span>,</span>
<span>                          strata <span class="op">=</span> <span class="st">"industry"</span><span class="op">)</span></span></code></pre></div>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:250px; overflow-x: scroll; width:100%; ">
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
id
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
employees
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
employees_f
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
employees_m
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
turnover
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
size
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
industry
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
job_vacancies
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
s_flag
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
.strata
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
employees_pop
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
employees_utv
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
job_vacancies_pop
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
job_vacancies_utv
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
job_vacancies_beta
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
job_vacancies_beta_ex
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
job_vacancies_rstud
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
job_vacancies_hat
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
job_vacancies_G
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
job_vacancies_imp
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
job_vacancies_flag
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
15396.54
</td>
<td style="text-align:left;">
small
</td>
<td style="text-align:left;">
B
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
B
</td>
<td style="text-align:right;">
165769
</td>
<td style="text-align:right;">
15997
</td>
<td style="text-align:right;">
2000
</td>
<td style="text-align:right;">
193
</td>
<td style="text-align:right;">
0.1459024
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0.000000
</td>
<td style="text-align:left;">
pred
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
75
</td>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
78814.71
</td>
<td style="text-align:left;">
mid
</td>
<td style="text-align:left;">
B
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
B
</td>
<td style="text-align:right;">
165769
</td>
<td style="text-align:right;">
15997
</td>
<td style="text-align:right;">
2000
</td>
<td style="text-align:right;">
193
</td>
<td style="text-align:right;">
0.1459024
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
10.942677
</td>
<td style="text-align:left;">
pred
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
55
</td>
<td style="text-align:right;">
42
</td>
<td style="text-align:right;">
13
</td>
<td style="text-align:right;">
97128.26
</td>
<td style="text-align:left;">
mid
</td>
<td style="text-align:left;">
B
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
B
</td>
<td style="text-align:right;">
165769
</td>
<td style="text-align:right;">
15997
</td>
<td style="text-align:right;">
2000
</td>
<td style="text-align:right;">
193
</td>
<td style="text-align:right;">
0.1459024
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
8.024630
</td>
<td style="text-align:left;">
pred
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
56
</td>
<td style="text-align:right;">
32
</td>
<td style="text-align:right;">
24
</td>
<td style="text-align:right;">
60414.60
</td>
<td style="text-align:left;">
mid
</td>
<td style="text-align:left;">
B
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
B
</td>
<td style="text-align:right;">
165769
</td>
<td style="text-align:right;">
15997
</td>
<td style="text-align:right;">
2000
</td>
<td style="text-align:right;">
193
</td>
<td style="text-align:right;">
0.1459024
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
8.170532
</td>
<td style="text-align:left;">
pred
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
110
</td>
<td style="text-align:right;">
13
</td>
<td style="text-align:right;">
97
</td>
<td style="text-align:right;">
237306.65
</td>
<td style="text-align:left;">
big
</td>
<td style="text-align:left;">
B
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
B
</td>
<td style="text-align:right;">
165769
</td>
<td style="text-align:right;">
15997
</td>
<td style="text-align:right;">
2000
</td>
<td style="text-align:right;">
193
</td>
<td style="text-align:right;">
0.1459024
</td>
<td style="text-align:right;">
0.1470533
</td>
<td style="text-align:right;">
-2.085257
</td>
<td style="text-align:right;">
0.008251547
</td>
<td style="text-align:right;">
-0.190207
</td>
<td style="text-align:right;">
1.000000
</td>
<td style="text-align:left;">
mod
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
172
</td>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
122
</td>
<td style="text-align:right;">
473721.22
</td>
<td style="text-align:left;">
big
</td>
<td style="text-align:left;">
B
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
B
</td>
<td style="text-align:right;">
165769
</td>
<td style="text-align:right;">
15997
</td>
<td style="text-align:right;">
2000
</td>
<td style="text-align:right;">
193
</td>
<td style="text-align:right;">
0.1459024
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
25.095205
</td>
<td style="text-align:left;">
pred
</td>
</tr>
</tbody>
</table>
</div>
<p>The result is a population dataset with added columns. It acts as a
mass-imputed file where totals and variances can be calculated from.</p>
<p>The general explanatory, <code>x</code>, variables added include:</p>
<ul>
<li>
<code>employees_pop</code> gives the sum of the explanatory
(employees) for the stratum in the population.</li>
<li>
<code>employees_utv</code> gives the sum of the explanatory
(employees) for the stratum in the sample.</li>
</ul>
<p>The prefix <em>employees</em> will be replaced with the name of the
explanatory variable chosen when run using a different data set.</p>
<p>Statistic variables added include:</p>
<ul>
<li>
<code>job_vacancies_pop</code> gives the count/number of
observations in the population for the stratum.</li>
<li>
<code>job_vacancies_utv</code> gives the count/number of
observations in the sample for the stratum.</li>
<li>
<code>job_vacancies_beta</code> gives the estimate of the <span class="math inline">\(\beta\)</span> value from the model for the
stratum.</li>
<li>
<code>job_vacancies_beta_ex</code> gives the estimate of the <span class="math inline">\(\beta\)</span> value from the model for the
stratum if that specific observation is removed from the model.</li>
<li>
<code>job_vacancies_rstud</code>, <code>job_vacancies_hat</code>,
<code>job_vacancies_G</code> provide the studentized residuals, hat
values and G-value used for identifying outliers and calculating
variances</li>
<li>
<code>job_vacancies_imp</code> provides the model based imputation
for the statistic variable.</li>
<li>
<code>job_vacancies_flag</code> provides an indicator on whether the
value of <code>job_vacancies_imp</code> is predicted
(<code>pred</code>), is observed and contributes to the model
<code>mod</code>) or is observed but excluded from the model
(<code>ex</code>).</li>
</ul>
<p>Again, the prefix <em>job_vacancies</em> will be replaced with the
name of the statistical variable chosen when run on a different data
set.</p>
<p>An additional parameter <code>exclude</code> in the function, allows
you to include a list of ID’s to exclude from the modelling. This can be
useful is there are some extreme values which will heavily influence the
results but are most likely correct values.</p>
</div>
<div class="section level3">
<h3 id="view-results-and-uncertainty">View results and uncertainty<a class="anchor" aria-label="anchor" href="#view-results-and-uncertainty"></a>
</h3>
<p>To summarize and view the results you can use the function
<code>get_results</code> with the first input parameter being the output
data set from the main <code>struktur_model</code>function. This will
give estimates for the total of the statistical variable in addition to
the variance (<code>job_vacanices_var</code>), upper and lower bounds
(<code>job_vacancies_UB</code> and <code>job_vacancies_LB</code>). The
coefficient og variation is given for three robust variance methods
(<code>job_vacancies_CV1</code>, <code>job_vacancies_CV2</code> and
<code>job_vacancies_CV3</code>) with <em>variance 2</em> being the
default used as the varience for the upper and lower bound varaibles.
These are all described in the <a href="https://www.ssb.no/a/publikasjoner/pdf/notat_200730/notat_200730.pdf" class="external-link">Using
SAS-struktur guide (page 25)</a>. The results are provided per strata if
a grouping/domain variable is not provided.</p>
<p>If the <code>exclude</code> parameter is use in the
<code>struktur_model</code> function an additional “suprise strata” is
created containing all the observations to exclude from the model. This
strata will be shown in the results.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">results_table</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_results.html">get_results</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span>
<span><span class="va">results_table</span> </span></code></pre></div>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:250px; overflow-x: scroll; width:100%; ">
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
.strata
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
employees_pop
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
employees_utv
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
job_vacancies_pop
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
job_vacancies_utv
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
job_vacancies_est
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
job_vacancies_var
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
job_vacancies_UB
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
job_vacancies_LB
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
job_vacancies_CV1
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
job_vacancies_CV2
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
job_vacancies_CV3
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
B
</td>
<td style="text-align:right;">
165769
</td>
<td style="text-align:right;">
15997
</td>
<td style="text-align:right;">
2000
</td>
<td style="text-align:right;">
193
</td>
<td style="text-align:right;">
24186.09
</td>
<td style="text-align:right;">
1477434
</td>
<td style="text-align:right;">
26568.46
</td>
<td style="text-align:right;">
21803.71
</td>
<td style="text-align:right;">
5.000508
</td>
<td style="text-align:right;">
5.025606
</td>
<td style="text-align:right;">
5.050884
</td>
</tr>
<tr>
<td style="text-align:left;">
C
</td>
<td style="text-align:right;">
166222
</td>
<td style="text-align:right;">
16484
</td>
<td style="text-align:right;">
2000
</td>
<td style="text-align:right;">
196
</td>
<td style="text-align:right;">
23535.68
</td>
<td style="text-align:right;">
1881763
</td>
<td style="text-align:right;">
26224.36
</td>
<td style="text-align:right;">
20847.00
</td>
<td style="text-align:right;">
5.801299
</td>
<td style="text-align:right;">
5.828485
</td>
<td style="text-align:right;">
5.855847
</td>
</tr>
<tr>
<td style="text-align:left;">
D
</td>
<td style="text-align:right;">
160949
</td>
<td style="text-align:right;">
15037
</td>
<td style="text-align:right;">
2000
</td>
<td style="text-align:right;">
191
</td>
<td style="text-align:right;">
25720.59
</td>
<td style="text-align:right;">
1604171
</td>
<td style="text-align:right;">
28203.04
</td>
<td style="text-align:right;">
23238.13
</td>
<td style="text-align:right;">
4.897947
</td>
<td style="text-align:right;">
4.924300
</td>
<td style="text-align:right;">
4.950855
</td>
</tr>
<tr>
<td style="text-align:left;">
E
</td>
<td style="text-align:right;">
164038
</td>
<td style="text-align:right;">
19319
</td>
<td style="text-align:right;">
2000
</td>
<td style="text-align:right;">
219
</td>
<td style="text-align:right;">
23520.12
</td>
<td style="text-align:right;">
1281820
</td>
<td style="text-align:right;">
25739.19
</td>
<td style="text-align:right;">
21301.06
</td>
<td style="text-align:right;">
4.792041
</td>
<td style="text-align:right;">
4.813643
</td>
<td style="text-align:right;">
4.835400
</td>
</tr>
<tr>
<td style="text-align:left;">
F
</td>
<td style="text-align:right;">
161212
</td>
<td style="text-align:right;">
15138
</td>
<td style="text-align:right;">
2000
</td>
<td style="text-align:right;">
191
</td>
<td style="text-align:right;">
22811.21
</td>
<td style="text-align:right;">
2073611
</td>
<td style="text-align:right;">
25633.62
</td>
<td style="text-align:right;">
19988.80
</td>
<td style="text-align:right;">
6.277441
</td>
<td style="text-align:right;">
6.312702
</td>
<td style="text-align:right;">
6.348270
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level3">
<h3 id="view-domain-estimations">View domain estimations<a class="anchor" aria-label="anchor" href="#view-domain-estimations"></a>
</h3>
<p>We generally don’t publish statistics at the strata-level. This is
usually most useful for the modeling/estimation process. To view results
for total estimates and uncertainty for publishing domains we can use
the <code>get_results</code> function with the <code>group</code>
parameter. For example to view results for the entire population/country
level and industry levels:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">results</span><span class="op">$</span><span class="va">country</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span><span class="fu"><a href="../reference/get_results.html">get_results</a></span><span class="op">(</span><span class="va">results</span>, group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"country"</span>, <span class="st">"industry"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
group_name
</th>
<th style="text-align:left;">
group
</th>
<th style="text-align:right;">
job_vacancies_est
</th>
<th style="text-align:right;">
job_vacancies_var
</th>
<th style="text-align:right;">
job_vacancies_cv
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
country
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
119773.69
</td>
<td style="text-align:right;">
8318798
</td>
<td style="text-align:right;">
2.408069
</td>
</tr>
<tr>
<td style="text-align:left;">
industry
</td>
<td style="text-align:left;">
B
</td>
<td style="text-align:right;">
24186.09
</td>
<td style="text-align:right;">
1477434
</td>
<td style="text-align:right;">
5.025606
</td>
</tr>
<tr>
<td style="text-align:left;">
industry
</td>
<td style="text-align:left;">
C
</td>
<td style="text-align:right;">
23535.68
</td>
<td style="text-align:right;">
1881763
</td>
<td style="text-align:right;">
5.828485
</td>
</tr>
<tr>
<td style="text-align:left;">
industry
</td>
<td style="text-align:left;">
D
</td>
<td style="text-align:right;">
25720.59
</td>
<td style="text-align:right;">
1604171
</td>
<td style="text-align:right;">
4.924300
</td>
</tr>
<tr>
<td style="text-align:left;">
industry
</td>
<td style="text-align:left;">
E
</td>
<td style="text-align:right;">
23520.12
</td>
<td style="text-align:right;">
1281820
</td>
<td style="text-align:right;">
4.813643
</td>
</tr>
<tr>
<td style="text-align:left;">
industry
</td>
<td style="text-align:left;">
F
</td>
<td style="text-align:right;">
22811.21
</td>
<td style="text-align:right;">
2073611
</td>
<td style="text-align:right;">
6.312702
</td>
</tr>
</tbody>
</table>
<p>In this case any observations that were excluded from the model and
are placed in the “surprise strata” will now be included in the total
(but do not contribute to the variance).</p>
</div>
<div class="section level3">
<h3 id="view-outliers">View outliers<a class="anchor" aria-label="anchor" href="#view-outliers"></a>
</h3>
<p>To look for extreme values we can use the <code>get_extremes</code>
function to create a table og potential problematic values. We simple
run this function on the output data set from the main
<code>struktur_model</code> function.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">outliers</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_extremes.html">get_extremes</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">results</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">outliers</span><span class="op">)</span></span></code></pre></div>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:250px; overflow-x: scroll; width:100%; ">
<table class="table table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
id
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
.strata
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
employees
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
job_vacancies
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
job_vacancies_utv
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
job_vacancies_est
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
job_vacancies_est_ex
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
job_vacancies_G
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
job_vacancies_rstud
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
job_vacancies_G_grense
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
job_vacancies_rstud_grense
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
8897
</td>
<td style="text-align:left;">
F
</td>
<td style="text-align:right;">
209
</td>
<td style="text-align:right;">
68
</td>
<td style="text-align:right;">
191
</td>
<td style="text-align:right;">
22811.21
</td>
<td style="text-align:right;">
22426.30
</td>
<td style="text-align:right;">
0.3732072
</td>
<td style="text-align:right;">
3.011318
</td>
<td style="text-align:right;">
0.1447149
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:right;">
2583
</td>
<td style="text-align:left;">
C
</td>
<td style="text-align:right;">
245
</td>
<td style="text-align:right;">
74
</td>
<td style="text-align:right;">
196
</td>
<td style="text-align:right;">
23535.68
</td>
<td style="text-align:right;">
23139.00
</td>
<td style="text-align:right;">
0.3687849
</td>
<td style="text-align:right;">
2.977828
</td>
<td style="text-align:right;">
0.1428571
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:right;">
4874
</td>
<td style="text-align:left;">
D
</td>
<td style="text-align:right;">
214
</td>
<td style="text-align:right;">
74
</td>
<td style="text-align:right;">
191
</td>
<td style="text-align:right;">
25720.59
</td>
<td style="text-align:right;">
25351.70
</td>
<td style="text-align:right;">
0.3667711
</td>
<td style="text-align:right;">
2.815034
</td>
<td style="text-align:right;">
0.1447149
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:right;">
9394
</td>
<td style="text-align:left;">
F
</td>
<td style="text-align:right;">
393
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
191
</td>
<td style="text-align:right;">
22811.21
</td>
<td style="text-align:right;">
22464.15
</td>
<td style="text-align:right;">
0.3321278
</td>
<td style="text-align:right;">
1.985633
</td>
<td style="text-align:right;">
0.1447149
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:right;">
9729
</td>
<td style="text-align:left;">
F
</td>
<td style="text-align:right;">
239
</td>
<td style="text-align:right;">
66
</td>
<td style="text-align:right;">
191
</td>
<td style="text-align:right;">
22811.21
</td>
<td style="text-align:right;">
22478.08
</td>
<td style="text-align:right;">
0.3206109
</td>
<td style="text-align:right;">
2.479199
</td>
<td style="text-align:right;">
0.1447149
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:right;">
885
</td>
<td style="text-align:left;">
B
</td>
<td style="text-align:right;">
301
</td>
<td style="text-align:right;">
71
</td>
<td style="text-align:right;">
193
</td>
<td style="text-align:right;">
24186.09
</td>
<td style="text-align:right;">
23875.72
</td>
<td style="text-align:right;">
0.3101890
</td>
<td style="text-align:right;">
2.303136
</td>
<td style="text-align:right;">
0.1439632
</td>
<td style="text-align:right;">
2
</td>
</tr>
</tbody>
</table>
</div>
<p>This produces a table with possible outliers. The ID and strata
variables are provided along the the explanatory and statistical
varaibles. The estimate for the strata total that the observation is
given (<code>job_vacancies_est</code>) and also the strata estimate if
the observation was excluded from the model, but the observed value was
included in the total (<code>job_vacancies_est_ex</code>).</p>
<p>The <code>G</code>and <code>rstud</code> values are given for the
observations and the threshold values used. These give an indication of
how close they are to an average, or expected value given the size of
the explanatory variable value. The methods for these are described
further in <a href="https://www.ssb.no/a/publikasjoner/pdf/notat_200730/notat_200730.pdf" class="external-link">Using
SAS-Struktur</a>.</p>
<p>Only observations with values above the threshold for <code>G</code>
or <code>rstud</code> are given in the table.</p>
<p>To view outliers in a figure you can use the function
<code>plot_extreme</code>, inputting the dataset given from the
<code>get_extreme</code>function. This is a way to get a quick view of
the potential outliers. The default plot gives the
<code>G</code>-values.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_extreme.html">plot_extreme</a></span><span class="op">(</span><span class="va">outliers</span><span class="op">)</span></span></code></pre></div>
<p><img src="g_plot.PNG" style="width:50.0%"></p>
<p>Alternatively, you can plot a comparison of the strata estimates with
and without that point.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_extreme.html">plot_extreme</a></span><span class="op">(</span><span class="va">outliers</span>, type <span class="op">=</span> <span class="st">"estimate"</span><span class="op">)</span></span></code></pre></div>
<p><img src="strata_plot.PNG" style="width:50.0%"></p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Susie Jentoft.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
